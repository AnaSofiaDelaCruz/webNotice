<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap");
    </style>
    <title>Home</title>
  </head>
  <body>
    <section class="escritorio">
      <div class="general">
        <div class="header">
          <div class="contenido-izquierdo">
            <!-- <img src="../assets/images/menu-burguer.png" alt="Icono de menu" class="burguer-menu"> -->
            <button class="boton-hamburguesa" (click)="setActive()">
              <i class="bi bi-list" id="botonMenu"></i>
            </button>
            <a (click)="RegresarHome()">
              <img src="./assets/images/logoNav.png" alt="logoNav" />
            </a>
          </div>
          <div class="buscador">
            <input
              type="text"
              class="barra-buscador"
              [(ngModel)]="buscarInput"
            />
            <button class="botonBusqueda" (click)="Buscar()">buscar</button>
          </div>
          <div class="boton-iniciar">
            <a
              *ngIf="!tokenEnLocalStorage"
              type="button"
              class="btn btn-outline-success me-2"
              href="/login"
              >Iniciar sesión</a
            >
            <a
              *ngIf="tokenEnLocalStorage"
              type="button"
              class="btn btn-outline-danger me-2"
              (click)="cerrarSesion()"
              >Cerrar sesión</a
            >
          </div>
        </div>

        <div class="contenidoReciente" *ngIf="!busquedaRealizada">
          <h1 class="textoReciente">Noticias recientes</h1>
          <div
            class="cards"
            *ngFor="let nota of notasLimitadas | ObjToArray"
            (click)="LeerNota(nota.id)"
          >
            <img
              [src]="nota.itemPaths[0]"
              [alt]="nota.item[0]"
              class="imagenNota"
            />
            <div class="textos">
              <h1 class="titulo">{{ nota.titulo }}</h1>
              <h1
                class="descripcion"
                [innerHTML]="nota.descripcion | slice : 0 : 150"
              ></h1>
              <h1 class="fecha">{{ nota.createdAt }}</h1>
            </div>
          </div>
        </div>
        <div class="contenidoReciente" *ngIf="busquedaRealizada">
          <h1 class="textoReciente">Notas encontradas</h1>
          <div
            class="cards"
            *ngFor="let nota of notasEncontradas | ObjToArray"
            (click)="LeerNota(nota.id)"
          >
            <img
              [src]="nota.itemPaths[0]"
              [alt]="nota.item[0]"
              class="imagenNota"
            />
            <div class="textos">
              <h1 class="titulo">{{ nota.titulo }}a</h1>
              <h1
                class="descripcion"
                [innerHTML]="nota.descripcion | slice : 0 : 150"
              ></h1>
              <h1 class="fecha">{{ nota.createdAt }}</h1>
            </div>
          </div>
        </div>

        <br />
        <h1 class="pregunta">¿De que te gustaria informarte?</h1>
        <br />
        <div class="botonesConjuntos">
          <button class="botonCategoria" (click)="FiltrarNota('Accidentes')">
            Accidentes
          </button>
          <button
            class="botonCategoria"
            (click)="FiltrarNota('Opinion publica')"
          >
            Opinion publica
          </button>
          <button
            class="botonCategoria"
            (click)="FiltrarNota('Noticias del día')"
          >
            Noticias del día
          </button>
        </div>

        <div class="masNoticias">
          <h1 class="textoReciente">Mas noticias que te pueden interesar</h1>
          <div class="listaCards">
            <div
              class="cardMasNotas"
              *ngFor="let nota of notasAbajoLimitadas | ObjToArray"
              (click)="LeerNota(nota.id)"
            >
              <div (click)="LeerNota(nota.id)">
                <img
                  [src]="nota.itemPaths[0]"
                  alt="Fotos de mas noticias"
                  class="imagenNotaMas"
                />
                <h1 class="titulo">{{ nota.titulo }}</h1>
                <h1
                  class="descripcion"
                  [innerHTML]="nota.descripcion | slice : 0 : 50"
                ></h1>
                <h1 class="fecha">{{ nota.createdAt }}</h1>
              </div>
            </div>
          </div>
        </div>

        <section class="menu-hamburguesa" [ngClass]="{ menu: active }">
          <div class="menu-lateral-contenedor">
            <h1 class="labelM">Mision 24</h1>
            <h2 class="select-noticias">Selecciona tus tipos de noticias</h2>
            <div class="lineaDivisora"></div>
            <div class="card1" routerLink="/noticiaInternacional">
              <h1 class="label">Internacional</h1>
            </div>
            <div class="card2" routerLink="/noticiaNacional">
              <h1 class="label">Nacional</h1>
            </div>
            <div class="card3" routerLink="/noticiaOpinion">
              <h1 class="label">Opinion publica</h1>
            </div>
            <div class="card4" routerLink="/noticiaChiapas">
              <h1 class="label">Estado | Chiapas</h1>
            </div>
            <button class="botonCerrar" id="cerrarMenu" (click)="setActive()">
              Cerrar
            </button>
          </div>
        </section>
      </div>
    </section>
    <!--INICIA LA SECCION MOBILE-->
    <section class="mobile">
      <div class="headerMobile">
        <div class="puntosMenu" (click)="setActive()">
          <i class="bi bi-three-dots-vertical"></i>
        </div>
        <h1 class="mision24Mobile">Mision 24</h1>
      </div>

      <div class="buscador">
        <input type="text" class="buscadorMobile" />
        <div>
          <button class="botonBuscarMobile" routerLink="/busqueda">
            <i class="bi bi-search"></i>
          </button>
        </div>
      </div>

      <div class="contenidoRecientesMobile">
        <h1 class="notiRMobile">Noticias Recientes</h1>
        <div
          class="cardMobile1"
          *ngFor="let nota of notasLimitadas | ObjToArray"
          (click)="LeerNota(nota.id)"
        >
          <img
            [src]="nota.itemPaths[0]"
            [alt]="nota.item[0]"
            class="imagenNota"
          />
          <div class="textoContenidoMobile">
            <h1 class="TituloNotaMobile">{{ nota.titulo }}</h1>
            <h1
              class="descripcion"
              [innerHTML]="nota.descripcion | slice : 0 : 50"
            ></h1>
            <h1 class="fecha">{{ nota.createdAt }}</h1>
          </div>
        </div>
      </div>

      <h1 class="informarteMobile">¿De que te gustaría informarte?</h1>

      <div class="botonesMobile">
        <button class="botonMobile">Accidentes</button>
        <button class="botonMobile" (click)="FiltrarNota('Opinion publica')">
          Opinión
        </button>
        <button class="botonMobile" (click)="FiltrarNota('Noticias del día')">
          Notas del día
        </button>
      </div>

      <div class="contenidoRecientesMobile">
        <h1 class="notiRMobile">Noticias relacionadas</h1>
        <div
          class="cardMobile1"
          *ngFor="let nota of notasAbajoLimitadas | ObjToArray"
          (click)="LeerNota(nota.id)"
        >
          <img
            [src]="nota.itemPaths[0]"
            alt="Fotos de mas noticias"
            class="imagenNotaMas"
          />
          <div class="textoContenidoMobile">
            <h1 class="TituloNotaMobile">{{ nota.titulo }}</h1>
            <h1
              class="descripcion"
              [innerHTML]="nota.descripcion | slice : 0 : 25"
            ></h1>
            <h2 class="fechaNotaMobile">{{ nota.createdAt }}</h2>
          </div>
        </div>
      </div>

      <div class="menuLateralMobile" [ngClass]="{ menu: active }">
        <h1 class="menuM24Mobile">Mision 24</h1>
        <nav class="navegacionLateralMObile">
          <a routerLink="/noticiaInternacional" class="enlaceMObile"
            >Internacional</a
          >
          <a routerLink="/noticiaNacional"class="enlaceMObile">Nacional</a>
          <a routerLink="/noticiaOpinion" class="enlaceMObile">Opinión Publica</a>
          <a routerLink="/noticiaChiapas" class="enlaceMObile">Estado | Chiapas</a>
        </nav>
        <button class="cerrarMenuMobile" (click)="setActive()">
          Cerrar menú
        </button>
      </div>
    </section>
  </body>
</html>
